{
  "version": 3,
  "sources": ["../../../../../node_modules/@ngrx/signals/fesm2022/ngrx-signals.mjs"],
  "sourcesContent": ["import * as i0 from '@angular/core';\nimport { untracked, isSignal, computed, signal, inject, DestroyRef, Injectable } from '@angular/core';\nconst STATE_SIGNAL = Symbol('STATE_SIGNAL');\nfunction getState(stateSignal) {\n  return stateSignal[STATE_SIGNAL]();\n}\nfunction patchState(stateSignal, ...updaters) {\n  stateSignal[STATE_SIGNAL].update(currentState => updaters.reduce((nextState, updater) => ({\n    ...nextState,\n    ...(typeof updater === 'function' ? updater(nextState) : updater)\n  }), currentState));\n}\nfunction toDeepSignal(signal) {\n  const value = untracked(() => signal());\n  if (!isRecord(value)) {\n    return signal;\n  }\n  return new Proxy(signal, {\n    get(target, prop) {\n      if (!(prop in value)) {\n        return target[prop];\n      }\n      if (!isSignal(target[prop])) {\n        Object.defineProperty(target, prop, {\n          value: computed(() => target()[prop]),\n          configurable: true\n        });\n      }\n      return toDeepSignal(target[prop]);\n    }\n  });\n}\nfunction isRecord(value) {\n  return value?.constructor === Object;\n}\nfunction signalState(initialState) {\n  const stateSignal = signal(initialState);\n  const deepSignal = toDeepSignal(stateSignal.asReadonly());\n  Object.defineProperty(deepSignal, STATE_SIGNAL, {\n    value: stateSignal\n  });\n  return deepSignal;\n}\nfunction signalStore(...args) {\n  const signalStoreArgs = [...args];\n  const config = 'providedIn' in signalStoreArgs[0] ? signalStoreArgs.shift() : {};\n  const features = signalStoreArgs;\n  class SignalStore {\n    constructor() {\n      const innerStore = features.reduce((store, feature) => feature(store), getInitialInnerStore());\n      const {\n        slices,\n        signals,\n        methods,\n        hooks\n      } = innerStore;\n      const props = {\n        ...slices,\n        ...signals,\n        ...methods\n      };\n      this[STATE_SIGNAL] = innerStore[STATE_SIGNAL];\n      for (const key in props) {\n        this[key] = props[key];\n      }\n      const {\n        onInit,\n        onDestroy\n      } = hooks;\n      if (onInit) {\n        onInit();\n      }\n      if (onDestroy) {\n        inject(DestroyRef).onDestroy(onDestroy);\n      }\n    }\n    /** @nocollapse */\n    static ɵfac = function SignalStore_Factory(t) {\n      return new (t || SignalStore)();\n    };\n    /** @nocollapse */\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: SignalStore,\n      factory: SignalStore.ɵfac,\n      providedIn: config.providedIn || null\n    });\n  }\n  (() => {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(SignalStore, [{\n      type: Injectable,\n      args: [{\n        providedIn: config.providedIn || null\n      }]\n    }], () => [], null);\n  })();\n  return SignalStore;\n}\nfunction getInitialInnerStore() {\n  return {\n    [STATE_SIGNAL]: signal({}),\n    slices: {},\n    signals: {},\n    methods: {},\n    hooks: {}\n  };\n}\nfunction signalStoreFeature(featureOrInput, ...restFeatures) {\n  const features = typeof featureOrInput === 'function' ? [featureOrInput, ...restFeatures] : restFeatures;\n  return inputStore => features.reduce((store, feature) => feature(store), inputStore);\n}\nfunction type() {\n  return undefined;\n}\nfunction excludeKeys(obj, keys) {\n  return Object.keys(obj).reduce((acc, key) => {\n    if (!keys.includes(key)) {\n      acc[key] = obj[key];\n    }\n    return acc;\n  }, {});\n}\nfunction withComputed(signalsFactory) {\n  return store => {\n    const signals = signalsFactory({\n      ...store.slices,\n      ...store.signals\n    });\n    const signalsKeys = Object.keys(signals);\n    const slices = excludeKeys(store.slices, signalsKeys);\n    const methods = excludeKeys(store.methods, signalsKeys);\n    return {\n      ...store,\n      slices,\n      signals: {\n        ...store.signals,\n        ...signals\n      },\n      methods\n    };\n  };\n}\nfunction withHooks(hooksOrFactory) {\n  return store => {\n    const storeProps = {\n      [STATE_SIGNAL]: store[STATE_SIGNAL],\n      ...store.slices,\n      ...store.signals,\n      ...store.methods\n    };\n    const hooks = typeof hooksOrFactory === 'function' ? hooksOrFactory(storeProps) : hooksOrFactory;\n    const createHook = name => {\n      const hook = hooks[name];\n      const currentHook = store.hooks[name];\n      return hook ? () => {\n        if (currentHook) {\n          currentHook();\n        }\n        hook(storeProps);\n      } : currentHook;\n    };\n    return {\n      ...store,\n      hooks: {\n        onInit: createHook('onInit'),\n        onDestroy: createHook('onDestroy')\n      }\n    };\n  };\n}\nfunction withMethods(methodsFactory) {\n  return store => {\n    const methods = methodsFactory({\n      [STATE_SIGNAL]: store[STATE_SIGNAL],\n      ...store.slices,\n      ...store.signals,\n      ...store.methods\n    });\n    const methodsKeys = Object.keys(methods);\n    const slices = excludeKeys(store.slices, methodsKeys);\n    const signals = excludeKeys(store.signals, methodsKeys);\n    return {\n      ...store,\n      slices,\n      signals,\n      methods: {\n        ...store.methods,\n        ...methods\n      }\n    };\n  };\n}\nfunction withState(stateOrFactory) {\n  return store => {\n    const state = typeof stateOrFactory === 'function' ? stateOrFactory() : stateOrFactory;\n    const stateKeys = Object.keys(state);\n    store[STATE_SIGNAL].update(currentState => ({\n      ...currentState,\n      ...state\n    }));\n    const slices = stateKeys.reduce((acc, key) => {\n      const slice = computed(() => store[STATE_SIGNAL]()[key]);\n      return {\n        ...acc,\n        [key]: toDeepSignal(slice)\n      };\n    }, {});\n    const signals = excludeKeys(store.signals, stateKeys);\n    const methods = excludeKeys(store.methods, stateKeys);\n    return {\n      ...store,\n      slices: {\n        ...store.slices,\n        ...slices\n      },\n      signals,\n      methods\n    };\n  };\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { getState, patchState, signalState, signalStore, signalStoreFeature, type, withComputed, withHooks, withMethods, withState };\n"],
  "mappings": "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",
  "names": ["signal"]
}
